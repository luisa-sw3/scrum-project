{% extends 'BackendBundle:Default:main.html.twig' %}
{% block title %}{{'backend.project.edit'|trans}}{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                {{'backend.project.edit'|trans}}
                <a href="{{ app.request.headers.get('referer') }}" class="btn btn-default pull-right">{{'backend.global.back'|trans}}</a>
            </h1>
            {% set item1 = {'text': project.name, 'url':path('backend_projects_view',{'id':project.id}),'icon':'fa fa-dashboard'} %}
            {% set item2 = {'text': 'backend.project.edit'|trans, 'icon':'fa fa-pencil'} %}
            {% set items = [item1, item2] %}
            {{ filters.breadcrum(items) }}
        </div>
    </div>

        
    <div class="row">
        {{ form_start(edit_form, {'action': path('backend_projects_edit', {'id':project.id}), 'method': 'POST'}) }}
            <div class="col-lg-6">
                <div class="form-group">
                    {{ form_label(edit_form.name)}} <em>*</em>
                    {{ form_widget(edit_form.name, {'attr':{'class':'form-control title-case'}}) }}
                    {{ form_errors(edit_form.name) }}
                </div>
                <div class="form-group">
                    {{ form_label(edit_form.description)}}
                    {{ form_widget(edit_form.description, {'attr':{'class':'form-control'}}) }}
                    {{ form_errors(edit_form.description) }}
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group date-selector">
                    {{ form_label(edit_form.startDate)}} <em>*</em>
                    {{ form_widget(edit_form.startDate) }}
                    {{ form_errors(edit_form.startDate) }}
                </div>
                <div class="form-group date-selector">
                    {{ form_label(edit_form.estimatedDate)}}
                    {{ form_widget(edit_form.estimatedDate) }}
                    {{ form_errors(edit_form.estimatedDate) }}
                </div>
                <div class="form-group">
                    {{ form_label(edit_form.effortEstimationMethod)}}
                    {{ form_widget(edit_form.effortEstimationMethod, {'attr':{'class':'form-control'}}) }}
                    {{ form_errors(edit_form.effortEstimationMethod) }}
                </div>
                <div class="form-group">
                    {{ form_label(settings_form.dateFormat)}}
                    {{ form_widget(settings_form.dateFormat, {'attr':{'class':'form-control'}}) }}
                    {{ form_errors(settings_form.dateFormat) }}
                </div>
                <div class="form-group">
                    {{ form_label(settings_form.hourFormat)}}
                    {{ form_widget(settings_form.hourFormat, {'attr':{'class':'form-control'}}) }}
                    {{ form_errors(settings_form.hourFormat) }}
                </div>
                
            </div>
            <div class="col-lg-6">
                {{ form_widget(edit_form._token) }} 
                <button type="submit"class="btn btn-primary pull-right">{{ 'backend.global.save_changes'|trans }}</button>
            </div>
        {{ form_end(edit_form) }}
    </div>
    
    <div class="row col-lg-12">
        {{ form_start(delete_form) }}
            <input class="btn btn-danger btn-sm" type="submit" value="{{ 'backend.project.delete'|trans }}">
        {{ form_end(delete_form) }}
    </div>
    
    
{% endblock %}
{% block scripts %}
    singleHtmlEditor('textarea', 200);
{% endblock %}
